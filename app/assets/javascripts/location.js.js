// Generated by CoffeeScript 1.7.1
$(document).ready(function() {
  var get_location, loc_details, loc_error;
  get_location = function() {
    $('#find_location').addClass("secondary");
    $('#signup').addClass("secondary");
    return navigator.geolocation.getCurrentPosition(loc_details, loc_error);
  };
  loc_details = function(position) {
    var lat, lon;
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    $('#user_latitude').val(lat);
    $('#user_longitude').val(lon);
    $('.spinner').fadeOut(300);
    $('#find_location').removeClass("secondary");
    return $('#signup').addClass("secondary");
  };
  loc_error = function(positionError) {
    if (positionError === 1) {
      $('#locate').append("You say no??");
      alert("you said no??");
      $('#find_location').removeClass("secondary");
      $('#signup').addClass("secondary");
    }
    if (positionError === 2) {
      $('#locate').append("mysterious error??");
      alert("mysterious error...");
      $('#find_location').removeClass("secondary");
      return $('#signup').addClass("secondary");
    }
  };
  return $("#find_location").click(function() {
    return get_location();
  });
});
